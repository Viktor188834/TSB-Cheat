local Guis = loadstring(game:HttpGet("https://raw.githubusercontent.com/Viktor188834/GuiCanMakeYou/refs/heads/main/Script.lua"))()
--Guis:AddSlideButton(Text, functionOn, functionOff, TextOnMouseEnter)
--Guis:AddButtonToSelectPlayer(Text, funcWithPlayerInstance, TextOnMouseEnter)
--Guis:AddClickButton(Text, fun, TextOnMouseEnter)
--Guis:AddTextBox(Text, funWithText, TextOnMouseEnter)
--Guis:AddKeybind(Text, fun, TextOnMouseEnter)
--Guis:AddSection(Text)
--Guis:TextAccuracy(Text, TextLabelOrTextButton) -- Acuracy Text

local Player = game.Players.LocalPlayer
local plr = nil
local Character = Player.Character
local hrp = Character:FindFirstChild("HumanoidRootPart")
local mouse = Player:GetMouse()
Player.CharacterAdded:Connect(function(newchar)
	Character = newchar
	hrp = Character:WaitForChild("HumanoidRootPart")
end)
local iskluchenie = ""
local run = game:GetService("RunService")
local Trashes = workspace.Map.Trash
local PlayersCharacters = workspace.Live

function find_lowest_hp_player()
	local Lower = 100
	local ToReturnCharacter = nil
 	for i,v in PlayersCharacters:GetChildren() do
		local Humanoid = v:FindFirstChildOfClass("Humanoid")
		local iskl = false
		local split = string.split(iskluchenie, ", ")
		for i,c in split do
			if c == v.Name then
				iskl = true
			end
		end
		if Humanoid and iskl == false and v ~= Character then
   			local hp = Humanoid.Health
     		if hp < Lower and hp >= 1 then
        		ToReturnCharacter = v
        		Lower = hp
      		end
    	end
  	end
  return ToReturnCharacter
end

function get_trash()
	local ToReturn = nil
	for i,v in Trashes:GetChildren() do
		if v:GetAttribute("Broken") == false then
			ToReturn = v
		end
	end
	return ToReturn
end

function Teleport(cframe)
	hrp.CFrame = cframe
end

local Auto_Farm = Guis:AddSection("Auto Farm")

local O1 = false
Auto_Farm:AddSlideButton("Main", function()
	O1 = true
	wait(0.5)
	repeat
		run.Heartbeat:Wait()
		local Trash = get_trash()
		if Trash then
			local trashcframe = Trash:GetChildren()[1].CFrame
			repeat
				run.Heartbeat:Wait()
				Teleport(trashcframe*CFrame.new(0, 0, 2))
			until Character:FindFirstChild("Trash Can") or Trash:GetAttribute("Broken") == true
			repeat
				run.Heartbeat:Wait()
				local Target = find_lowest_hp_player()
				if Target then
					Teleport(Target:WaitForChild("HumanoidRootPart").CFrame*CFrame.new(0, 0, 13))
				end
			until not Character:FindFirstChild("Trash Can")
		else
			Teleport(CFrame.new(Vector3.new(129.62709045410156, -110.75439453125, 39.04447937011719)))
		end
	until O1 == false
end, function()
	O1 = false
end, "Auto Farm Main")

local O2 = false
Auto_Farm:AddSlideButton("Auto Clicker", function()
	O2 = true
	wait(0.5)
	repeat
		run.Heartbeat:Wait()
		mouse1click()
	until O2 == false
end, function()
	O2 = false
end)

Auto_Farm:AddButtonToSelectPlayer("Add Exception", function(t)
	iskluchenie = iskluchenie..t.Name..", "
end)
